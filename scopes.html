<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE HTML>
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>SMART on FHIR Obligations and Capabilities - HealtheData1 USCDI4 Sandbox v0.0.0</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="author" content="http://hl7.org/fhir"/>

    <link rel="stylesheet" href="fhir.css"/>

      <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="assets/css/bootstrap-fhir.css"/>

      <!-- Project extras -->
    <link rel="stylesheet" href="assets/css/project.css"/>
    <link rel="stylesheet" href="assets/css/pygments-manni.css"/>
    <link rel="stylesheet" href="assets/css/jquery-ui.css"/>
  	<link rel="stylesheet" href="assets/css/prism.css"/>
      <!-- Placeholder for child template CSS declarations -->

    <script src="fhir-table-scripts.js" type="text/javascript"> </script>

      <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
      <!-- [if lt IE 9]>
    <script src="assets/js/html5shiv.js"></script>
    <script src="assets/js/respond.min.js"></script>
    <![endif] -->

      <!-- Favicons -->
    <link sizes="144x144" rel="fhir-logo" href="assets/ico/icon-fhir-144.png"/>
    <link sizes="114x114" rel="fhir-logo" href="assets/ico/icon-fhir-114.png"/>
    <link sizes="72x72" rel="fhir-logo" href="assets/ico/icon-fhir-72.png"/>
    <link rel="fhir-logo" href="assets/ico/icon-fhir-57.png"/>
    <link rel="shortcut icon" href="assets/ico/favicon.png"/>
  </head>
  <body onload="document.body.style.opacity='1'">

	  <script src="assets/js/prism.js"></script>

    <style type="text/css">h2{--heading-prefix:"3.1"}
    h3,h4,h5,h6{--heading-prefix:"3.1"}</style>
    <div id="segment-header" class="segment">    <!-- segment-header -->
      <div class="container">    <!-- container -->
          <!-- Placeholder for child template header declarations -->


        <div id="ig-status">
          <p><span style="font-size:12pt;font-weight:bold">HealtheData1 USCDI4 Sandbox</span>
            <br/>
            <span style="display:inline-block;">0.0.0 - CI Build



  <img src="assets/images/usa.svg" alt="United States of America flag" title="United States of America" height="16"/>


            </span>
          </p>
        </div>
      </div>   <!-- /container -->
    </div>    <!-- /segment-header -->

    <div id="segment-navbar" class="segment">    <!-- segment-navbar -->
      <div id="stripe"> </div>
      <div class="container">    <!-- container -->
          <!-- HEADER CONTENT -->

        <nav class="navbar navbar-inverse">
            <!-- status-bar -->
          <div class="container">
            <button data-target=".navbar-inverse-collapse" data-toggle="collapse" type="button" class="navbar-toggle">
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
            </button>
            <a href="http://hl7.org/fhir/R4/index.html" class="navbar-brand hidden">FHIR</a>
            <div class="nav-collapse collapse navbar-inverse-collapse">
                <!-- menu.xml -->

<ul class="nav navbar-nav">
  <li>
    <a href="index.html">IG Home</a>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Guidance
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="guidance.html">General Guidance</a>
      </li>
      <li>
        <a href="scopes.html">SMART on FHIR Obligations and Capabilities</a>
      </li>
    </ul>
  </li>
  <li>
    <a href="future.html">Future</a>
  </li>
  <li>
    <a href="screening-and-assessments.html">Screening and Assessments</a>
  </li>
  <li>
    <a href="artifacts.html">Artifact Index</a>
  </li>
  <li>
    <a href="downloads.html">Downloads</a>
  </li>
  <li>
    <a href="changes.html">Change Log</a>
  </li>
  <li>
    <a href="ImplementationGuide.html">IG Page</a>
  </li>
</ul>
            </div>    <!-- /.nav-collapse -->
          </div>    <!-- /.container -->
        </nav>    <!-- /.navbar -->
        <!-- /HEADER CONTENT -->
      </div>    <!-- /container -->
    </div>    <!-- /segment-navbar -->
      <!-- status-bar -->

    <div id="segment-breadcrumb" class="segment">    <!-- segment-breadcrumb -->
      <div class="container">    <!-- container -->
        <ul class="breadcrumb">
          <li><a href="toc.html"><b>Table of Contents</b></a></li><li><a href="guidance.html"><b>Guidance</b></a></li><li><b>SMART on FHIR Obligations and Capabilities</b></li>

        </ul>
      </div>    <!-- /container -->
    </div>    <!-- /segment-breadcrumb -->

    <a name="top"> </a>
    <div id="segment-content" class="segment">    <!-- segment-content -->
      <div class="container">    <!-- container -->
        <div class="row">
          <div class="inner-wrapper">

<style type="text/css">
h2:before{color:silver;counter-increment:section;content:var(--heading-prefix) " ";}
h3:before{color:silver;counter-increment:sub-section;content:var(--heading-prefix) "." counter(sub-section) " ";}
h4:before{color:silver;counter-increment:composite;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) " ";}
h5:before{color:silver;counter-increment:detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) " ";}
h6:before{color:silver;counter-increment:more-detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) "." counter(more-detail)" ";}
</style>
<div class="col-12">
    <!-- ReleaseHeader --><p id="publish-box">HealtheData1 USCDI4 Sandbox - Local Development build (v0.0.0) built by the FHIR (HL7&reg; FHIR&reg; Standard) Build Tools. See the <a href="http://www.fhir.org/guides/uscdi4-sandbox/history.html">Directory of published versions</a></p>  <!-- EndReleaseHeader -->
  <h2>SMART on FHIR Obligations and Capabilities</h2>
  





  <table class="colsi">
    <tr>
  
      <td>
        <i>Page standards status:</i> <a href="http://hl7.org/fhir/R4/versions.html#std-process" title="Standard Status">Informative</a>
        
      </td>
  
  
    </tr>
  </table>








    <p>  <!-- white space is critical inside of capture --></p>
<div class="markdown-toc">
<ul id="markdown-toc">
  <li><a href="#capability-sets-for-us-core-servers-supporting-user-facing-applications" id="markdown-toc-capability-sets-for-us-core-servers-supporting-user-facing-applications"><em>Capability Sets</em> for US Core Servers Supporting User-Facing Applications</a></li>
  <li><a href="#us-core-servers-shall-support-token-introspection" id="markdown-toc-us-core-servers-shall-support-token-introspection">US Core Servers SHALL Support Token Introspection</a></li>
  <li><a href="#smart-scopes" id="markdown-toc-smart-scopes">SMART Scopes</a></li>
  <li><a href="#servers-shall-support-the-following-metadata-in-their-well-knownsmart-configuration" id="markdown-toc-servers-shall-support-the-following-metadata-in-their-well-knownsmart-configuration">Servers SHALL support the following metadata in their <code class="language-plaintext highlighter-rouge">/.well-known/smart-configuration</code></a></li>
</ul>

</div>

<p>SMART App Launch Implementation Guide Release 2.0.0 describes a set of foundational patterns based on OAuth 2.0 for client applications to authorize, authenticate, and integrate with FHIR-based data systems. This page  documents the SMART on FHIR obligations and capabilities for US Core Servers supporting User-Facing Applications and Backend Services.</p>

<h3 id="capability-sets-for-us-core-servers-supporting-user-facing-applications"><em>Capability Sets</em> for US Core Servers Supporting User-Facing Applications</h3>

<p>To promote interoperability, SMART on FHIR defines a set of core capabilities. An individual SMART server will publish a granular list of its capabilities and a given set of these capabilities is combined to support a specific use, a <em>Capability Set</em>. See SMART App Launch’s <a href="https://hl7.org/fhir/smart-app-launch/STU2/conformance.html#smart-on-fhir-oauth-authorization-endpoints-and-capabilities">FHIR OAuth authorization Endpoints and Capabilities</a> for more details.</p>

<p>At least one of the following SMART on FHIR <em>Capability Sets</em> <strong>SHOULD</strong> be supported for US Core Servers that support User-Facing Applications. For certified systems both <strong>SHALL</strong> be supported:</p>

<ul>
  <li><a href="https://hl7.org/fhir/smart-app-launch/STU2/conformance.html#patient-access-for-standalone-apps">Patient Access for Standalone Apps</a></li>
  <li><a href="https://hl7.org/fhir/smart-app-launch/STU2/conformance.html#clinician-access-for-standalone">Clinician Access for EHR Launch</a></li>
</ul>

<p>Servers <strong>MAY</strong> support the other SMART on FHIR <em>Capability Sets</em> and capabilities.</p>

<p>&#x1F914; at least one or both? ( see CCG reference below )</p>

<p>&#x1F914; SHOULD there be a <em>Capability Sets</em> recommendation for “Backend-Services” in next Bulk or SMART guide?</p>

<p>&#x1F914; what about listing individual capabilities  - I do not think this section in HTI-1 Section III 7 e means that <em>all</em> US Core Servers <strong>SHALL</strong> support <em>all</em> the capabilities in section 8.1.2.</p>
<blockquote>
  <p>As part of this proposal, we proposed to adopt several sections specified as “optional” in the SMART v2 Guide as “required” for purposes of the Program for certification criteria that reference &sect; 170.215(c). Specifically, we proposed to adopt all Capabilities as defined in “8.1.2 Capabilities,” which include but are not limited to (1) backward compatibility mapping for SMART v1 scopes as defined in “3.0.2 Scopes for requesting clinical data;” (2) asymmetric client authentication as defined in “5 Client Authentication: Asymmetric (public key);” and granular scopes as defined in (3) “3.0.2.3 Finer-grained resource constraints using search parameters.”</p>
</blockquote>

<ul>
  <li>
    <p>review of <a href="https://www.healthit.gov/test-method/standardized-api-patient-and-population-services">ONC Certification Companion Guides (CCGs)</a> (Updated on 02-20-2024)</p>

    <blockquote>
      <p>Paragraph (g)(10)(v)(A)(1)</p>
      <ul>
        <li>Health IT Modules will only be tested for the “Patient Access for Standalone Apps” and “Clinician Access for EHR Launch” “Capability Sets”described in the standard adopted at &sect; 170.215(a)(3)
          <ul>
            <li>&sect; 170.215(a)(3) HL7 SMART Application Launch Framework Implementation Guide Release 1.0.0, including mandatory support for the “SMART Core Capabilities” (incorporated by reference in &sect; 170.299).</li>
          </ul>
        </li>
      </ul>
    </blockquote>
  </li>
</ul>

  <!-- ### 🤔 *Capability Sets* for US Core  User-Facing Client Applications (stolen from IPA)

US Core  User-Facing Client Applications will need to support a subset of the SMART on FHIR server capabilities to function:

- **SHALL** support [launch-standalone] or [launch-ehr] or both.
-  **SHOULD** support [launch-standalone] and MAY support [launch-ehr].
- Patient-facing apps **SHALL** support [context-standalone-patient] and **SHOULD** support [permission-patient].
- Apps with the technical capability to keep a secret **SHALL** support [client-confidential-asymmetric] and MAY support [permission-offline].
- Apps without the technical capability to keep a secret **SHALL** support [client-public] and **SHALL** NOT support [client-confidential-asymmetric]. -->

<h3 id="us-core-servers-shall-support-token-introspection">US Core Servers SHALL Support Token Introspection</h3>

<p><a name="l432">​</a>US Core Server <strong>SHALL</strong> support token introspection defined by the SMART App Launch Guide. For more details and additional consideration see SMART App Launch’s <a href="hhttps://hl7.org/fhir/smart-app-launch/STU2/token-introspection.html#token-introspection">Token Introspection</a>.</p>

<h3 id="smart-scopes">SMART Scopes</h3>

<p>SMART’s scopes defined in Version 2.0.0 of the [SMART App Launch] implementation guide allow a access permissions to be delegated to a client application. The US Core API requires servers to support [resource level scopes] and [granular scopes] allowing access to specific data about a single patient. US Core’s required scopes (<strong>SHALL</strong>) are based on community-based consensus that the scope meets a system requirement, clinical need, or federal regulation. Similarly, US Core’s recommended scopes (<strong>SHOULD</strong>) rely on community-based consensus that the scope meets a system requirement or clinical need as a best practice.</p>

<p>The US Core required scopes listed below are named in the HTA-1 final rule, which requires support for Condition and Observation category scopes, and the recommended granular scope listed below is of particular interest to patients and health systems.</p>

<p>US Core clients should follow the [principle of least privilege] and access only the necessary resources. In other words, if a client needs only vital sign observations, it should request access only to Observations with a category of “vital-signs”.</p>

<h5 id="scopes-format">Scopes Format</h5>
<p>SMART App Launch Version 2.0.0 introduced a scope syntax of: <code class="language-plaintext highlighter-rouge">&lt;patient|user|system&gt; / &lt;fhir-resource&gt;. &lt;c | r | u | d |s&gt; [?param=value]</code></p>

<p>For example, to limit read and search access to a specific patient’s laboratory observations but not other observations, the server grants the following patient-specific scope:</p>

<p><code class="language-plaintext highlighter-rouge">patient/Observation.rs?category=http://terminology.hl7.org/CodeSystem/observation-category|laboratory</code>.</p>

<p>This example uses a <code class="language-plaintext highlighter-rouge">patient/</code> prefix, but implementers may support <code class="language-plaintext highlighter-rouge">system/</code> and <code class="language-plaintext highlighter-rouge">user/</code>.</p>

<h4 id="us-core-scopes">US Core Scopes</h4>

<p>The table below summarizes the US Core scope requirements (<strong>SHALL</strong>) and best practice recommendations (<strong>SHOULD</strong>) for resource-level and granular scopes. This same information can be found in each US Core Profile page’s “Quick Start” section.</p>

<p>For “User-Facing Applications”, a system’s support for patient-level (<code class="language-plaintext highlighter-rouge">patient</code>) or user-level (<code class="language-plaintext highlighter-rouge">user</code>) scopes depends on its published list of SMART on FHIR capabilities (see the <a href="#capability-sets-for-us-core-servers-supporting-user-facing-applications">capability sets</a> above).  For example, if a server lists <code class="language-plaintext highlighter-rouge">permission-patient</code> and <code class="language-plaintext highlighter-rouge">permission-user</code> in its capabilities, it <strong>SHALL</strong> support both patient-level and user-level required scopes, and <strong>SHOULD</strong> support both patient-level and user-level recommended best-practice scopes.</p>

<p>For “Backend-Services”, System-level scopes (<code class="language-plaintext highlighter-rouge">system</code>) are used to describe data that a client system is directly authorized to access. Systems that support system-level (<code class="language-plaintext highlighter-rouge">system</code>) scopes, <strong>SHALL</strong> support the required US Core scopes and <strong>SHOULD</strong> support the recommended US Core scopes.</p>

<h5 id="the-following-resource-level-scopes-shall-be-supported">The Following Resource Level Scopes <strong>SHALL</strong> Be Supported</h5>

  <!-- This liquid script creates a US Core scope requirements table using input data from input/data/scopes.csv
include parameters: conformance='SHALL'|'SHOULD' and crud='cruds' not currently used -->

<table class="grid">
<thead>
<tr>
<th>Resource Type</th>
<th>Resource Level Scope</th>
</tr>
</thead>
<tbody>
<tr>
<td>AllergyIntolerance</td>
<td><code>&lt;patient|user|system&gt;/AllergyIntolerance.rs</code></td>
</tr>
<tr>
<td>CarePlan</td>
<td><code>&lt;patient|user|system&gt;/CarePlan.rs</code></td>
</tr>
<tr>
<td>CareTeam</td>
<td><code>&lt;patient|user|system&gt;/CareTeam.rs</code></td>
</tr>
<tr>
<td>Condition</td>
<td><code>&lt;patient|user|system&gt;/Condition.rs</code></td>
</tr>
<tr>
<td>Coverage</td>
<td><code>&lt;patient|user|system&gt;/Coverage.rs</code></td>
</tr>
<tr>
<td>Device</td>
<td><code>&lt;patient|user|system&gt;/Device.rs</code></td>
</tr>
<tr>
<td>DiagnosticReport</td>
<td><code>&lt;patient|user|system&gt;/DiagnosticReport.rs</code></td>
</tr>
<tr>
<td>DocumentReference</td>
<td><code>&lt;patient|user|system&gt;/DocumentReference.rs</code></td>
</tr>
<tr>
<td>Encounter</td>
<td><code>&lt;patient|user|system&gt;/Encounter.rs</code></td>
</tr>
<tr>
<td>Goal</td>
<td><code>&lt;patient|user|system&gt;/Goal.rs</code></td>
</tr>
<tr>
<td>Immunization</td>
<td><code>&lt;patient|user|system&gt;/Immunization.rs</code></td>
</tr>
<tr>
<td>MedicationDispense</td>
<td><code>&lt;patient|user|system&gt;/MedicationDispense.rs</code></td>
</tr>
<tr>
<td>MedicationRequest</td>
<td><code>&lt;patient|user|system&gt;/MedicationRequest.rs</code></td>
</tr>
<tr>
<td>Observation</td>
<td><code>&lt;patient|user|system&gt;/Observation.rs</code></td>
</tr>
<tr>
<td>Organization</td>
<td><code>&lt;patient|user|system&gt;/Organization.rs</code></td>
</tr>
<tr>
<td>Patient</td>
<td><code>&lt;patient|user|system&gt;/Patient.rs</code></td>
</tr>
<tr>
<td>Practitioner</td>
<td><code>&lt;patient|user|system&gt;/Practitioner.rs</code></td>
</tr>
<tr>
<td>PractitionerRole</td>
<td><code>&lt;patient|user|system&gt;/PractitionerRole.rs</code></td>
</tr>
<tr>
<td>Procedure</td>
<td><code>&lt;patient|user|system&gt;/Procedure.rs</code></td>
</tr>
<tr>
<td>Provenance</td>
<td><code>&lt;patient|user|system&gt;/Provenance.rs</code></td>
</tr>
<tr>
<td>QuestionnaireResponse</td>
<td><code>&lt;patient|user|system&gt;/QuestionnaireResponse.rs</code></td>
</tr>
<tr>
<td>RelatedPerson</td>
<td><code>&lt;patient|user|system&gt;/RelatedPerson.rs</code></td>
</tr>
<tr>
<td>ServiceRequest</td>
<td><code>&lt;patient|user|system&gt;/ServiceRequest.rs</code></td>
</tr>
<tr>
<td>Specimen</td>
<td><code>&lt;patient|user|system&gt;/Specimen.rs</code></td>
</tr>

</tbody>
</table>

<h5 id="the-following-granular-scopes-shall-be-supported">The Following Granular Scopes <strong>SHALL</strong> Be Supported</h5>

  <!-- This liquid script creates a US Core scope requirements table using input data from input/data/scopes.csv 
include parameters: conformance='SHALL'|'SHOULD' see below for how used, and crud='cruds' not currently used -->

<table class="grid">
<thead>
<tr>
<th>Resource Type</th>
<th>Granular Scope</th>
</tr>
</thead>
<tbody>
<tr>
<td>Condition</td>
<td><code>&lt;patient|user|system&gt;/Condition.rs?category=http://hl7.org/fhir/us/core/CodeSystem/condition-category|health-concern</code></td>
</tr>
<tr>
<td>Condition</td>
<td><code>&lt;patient|user|system&gt;/Condition.rs?category=http://terminology.hl7.org/CodeSystem/condition-category|encounter-diagnosis</code></td>
</tr>
<tr>
<td>Condition</td>
<td><code>&lt;patient|user|system&gt;/Condition.rs?category=http://terminology.hl7.org/CodeSystem/condition-category|problem-list-item</code></td>
</tr>
<tr>
<td>Observation</td>
<td><code>&lt;patient|user|system&gt;/Observation.rs?category=http://hl7.org/fhir/us/core/CodeSystem/us-core-category|sdoh</code></td>
</tr>
<tr>
<td>Observation</td>
<td><code>&lt;patient|user|system&gt;/Observation.rs?category=http://terminology.hl7.org//CodeSystem-observation-category|social-history</code></td>
</tr>
<tr>
<td>Observation</td>
<td><code>&lt;patient|user|system&gt;/Observation.rs?category=http://terminology.hl7.org/CodeSystem/observation-category|laboratory</code></td>
</tr>
<tr>
<td>Observation</td>
<td><code>&lt;patient|user|system&gt;/Observation.rs?category=http://terminology.hl7.org/CodeSystem/observation-category|survey</code></td>
</tr>
<tr>
<td>Observation</td>
<td><code>&lt;patient|user|system&gt;/Observation.rs?category=http://terminology.hl7.org/CodeSystem/observation-category|vital-signs</code></td>
</tr>

</tbody>
</table>

<h5 id="the-following-granular-scopes-should-be-supported">The Following Granular Scopes <strong>SHOULD</strong> Be Supported</h5>

  <!-- This liquid script creates a US Core scope requirements table using input data from input/data/scopes.csv 
include parameters: conformance='SHALL'|'SHOULD' see below for how used, and crud='cruds' not currently used -->

<table class="grid">
<thead>
<tr>
<th>Resource Type</th>
<th>Granular Scope</th>
</tr>
</thead>
<tbody>
<tr>
<td>DocumentReference</td>
<td><code>&lt;patient|user|system&gt;/DocumentReference.rs?category=http://hl7.org/fhir/us/core/CodeSystem/us-core-documentreference-category|clinical-note</code></td>
</tr>
<tr>
<td>Observation</td>
<td><code>&lt;patient|user|system&gt;/Observation.rs?category=BAR</code></td>
</tr>
<tr>
<td>Observation</td>
<td><code>&lt;patient|user|system&gt;/Observation.rs?category=FOO</code></td>
</tr>

</tbody>
</table>

<h3 id="servers-shall-support-the-following-metadata-in-their-well-knownsmart-configuration">Servers SHALL support the following metadata in their <code class="language-plaintext highlighter-rouge">/.well-known/smart-configuration</code></h3>

<p>In addition to the capabilities defined in the server’s CapabilityStatement, servers <strong>SHALL</strong> document their SMART capabilities in a using a <a href="https://hl7.org/fhir/smart-app-launch/STU2/conformance.html#using-well-known">Well-Known Uniform Resource Identifiers (URIs)</a> JSON file.</p>

<h4 id="required-smart-app-launch-metadata">Required SMART App Launch Metadata</h4>

<p>The following JSON file metadata are required by the SMART App Launch guide:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">issuer</code> (conditional)</li>
  <li><code class="language-plaintext highlighter-rouge">jwks_uri</code> (conditional)</li>
  <li><code class="language-plaintext highlighter-rouge">authorization_endpoint</code></li>
  <li><code class="language-plaintext highlighter-rouge">grant_types_supported</code></li>
  <li><code class="language-plaintext highlighter-rouge">token_endpoint</code></li>
  <li><code class="language-plaintext highlighter-rouge">capabilities</code></li>
  <li><code class="language-plaintext highlighter-rouge">code_challenge_methods_supported</code></li>
</ul>

<h4 id="additional-us-core-requirements">Additional US Core Requirements</h4>

<p>These additional SMART App Launch metadata are required by US Core:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">scopes_supported</code> : Array of scopes a client may request.
    <ul>
      <li>
        <p>The server <strong>SHALL</strong> support all scopes listed in the table above for the US Core Profiles they support; additional scopes <strong>MAY</strong> be supported (so clients should not consider this an exhaustive list).</p>
      </li>
      <li>
        <p>Servers <strong>MAY</strong> limit clients’ scopes to those configured at registration time. Servers <strong>SHALL</strong> allow users to select a subset of the requested scopes at the approval time. The app <strong>SHOULD</strong> inspect the returned scopes and accommodate the differences from the scopes it requested and registered.</p>
      </li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">introspection_endpoint</code>: URL to a server’s introspection endpoint that can be used to validate a token.
    <ul>
      <li>Servers <strong>SHALL</strong> document this endpoint in the file</li>
    </ul>
  </li>
</ul>

<h4 id="example-well-knownsmart-configuration-file">Example <code class="language-plaintext highlighter-rouge">.well-known/smart-configuration</code> File</h4>

<p>This example <code class="language-plaintext highlighter-rouge">.well-known/smart-configuration</code> file shows all the required and recommended metadata listed in SMART App Launch. Note that the server lists <code class="language-plaintext highlighter-rouge">permission-patient</code> and <code class="language-plaintext highlighter-rouge">permission-user</code> in the <code class="language-plaintext highlighter-rouge">capabilities</code> metadata array and all the required and recommended US Core scopes for both <code class="language-plaintext highlighter-rouge">patient/</code> and <code class="language-plaintext highlighter-rouge">user/</code> in the <code class="language-plaintext highlighter-rouge">scopes_supported</code> metedata array.  See the [SMART App Launch] Implementation Guide for more examples and details.</p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div></div>

  <!-- This liquid script creates a US Core scope requirements table using input data from input/data/scopes.csv 
include parameters: conformance='SHALL'|'SHOULD' see below for how used, and crud='cruds' not currently used -->

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"issuer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ehr.example.com"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"jwks_uri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ehr.example.com/.well-known/jwks.json"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"authorization_endpoint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ehr.example.com/auth/authorize"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"token_endpoint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ehr.example.com/auth/token"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"token_endpoint_auth_methods_supported"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"client_secret_basic"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"private_key_jwt"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"grant_types_supported"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"authorization_code"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"client_credentials"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"registration_endpoint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ehr.example.com/auth/register"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"scopes_supported"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"openid"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"profile"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"launch"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"launch/patient"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"offline_access"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"patient/AllergyIntolerance.rs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user/AllergyIntolerance.rs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"patient/CarePlan.rs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user/CarePlan.rs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"patient/CareTeam.rs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user/CareTeam.rs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"patient/Condition.rs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user/Condition.rs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"patient/Coverage.rs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user/Coverage.rs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"patient/Device.rs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user/Device.rs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"patient/DiagnosticReport.rs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user/DiagnosticReport.rs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"patient/DocumentReference.rs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user/DocumentReference.rs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"patient/Encounter.rs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user/Encounter.rs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"patient/Goal.rs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user/Goal.rs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"patient/Immunization.rs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user/Immunization.rs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"patient/MedicationDispense.rs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user/MedicationDispense.rs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"patient/MedicationRequest.rs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user/MedicationRequest.rs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"patient/Observation.rs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user/Observation.rs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"patient/Organization.rs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user/Organization.rs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"patient/Patient.rs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user/Patient.rs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"patient/Practitioner.rs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user/Practitioner.rs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"patient/PractitionerRole.rs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user/PractitionerRole.rs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"patient/Procedure.rs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user/Procedure.rs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"patient/Provenance.rs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user/Provenance.rs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"patient/QuestionnaireResponse.rs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user/QuestionnaireResponse.rs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"patient/RelatedPerson.rs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user/RelatedPerson.rs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"patient/ServiceRequest.rs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user/ServiceRequest.rs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"patient/Specimen.rs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user/Specimen.rs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"patient/Condition.rs?category=http://hl7.org/fhir/us/core/CodeSystem/condition-category|health-concern"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user/Condition.rs?category=http://hl7.org/fhir/us/core/CodeSystem/condition-category|health-concern"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"patient/Condition.rs?category=http://terminology.hl7.org/CodeSystem/condition-category|encounter-diagnosis"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user/Condition.rs?category=http://terminology.hl7.org/CodeSystem/condition-category|encounter-diagnosis"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"patient/Condition.rs?category=http://terminology.hl7.org/CodeSystem/condition-category|problem-list-item"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user/Condition.rs?category=http://terminology.hl7.org/CodeSystem/condition-category|problem-list-item"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"patient/DocumentReference.rs?category=http://hl7.org/fhir/us/core/CodeSystem/us-core-documentreference-category|clinical-note"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user/DocumentReference.rs?category=http://hl7.org/fhir/us/core/CodeSystem/us-core-documentreference-category|clinical-note"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"patient/Observation.rs?category=BAR"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user/Observation.rs?category=BAR"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"patient/Observation.rs?category=FOO"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user/Observation.rs?category=FOO"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"patient/Observation.rs?category=http://hl7.org/fhir/us/core/CodeSystem/us-core-category|sdoh"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user/Observation.rs?category=http://hl7.org/fhir/us/core/CodeSystem/us-core-category|sdoh"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"patient/Observation.rs?category=http://terminology.hl7.org//CodeSystem-observation-category|social-history"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user/Observation.rs?category=http://terminology.hl7.org//CodeSystem-observation-category|social-history"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"patient/Observation.rs?category=http://terminology.hl7.org/CodeSystem/observation-category|laboratory"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user/Observation.rs?category=http://terminology.hl7.org/CodeSystem/observation-category|laboratory"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"patient/Observation.rs?category=http://terminology.hl7.org/CodeSystem/observation-category|survey"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user/Observation.rs?category=http://terminology.hl7.org/CodeSystem/observation-category|survey"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"patient/Observation.rs?category=http://terminology.hl7.org/CodeSystem/observation-category|vital-signs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user/Observation.rs?category=http://terminology.hl7.org/CodeSystem/observation-category|vital-signs"</span><span class="w">
</span><span class="p">],</span><span class="w">
  </span><span class="nl">"response_types_supported"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"code"</span><span class="p">],</span><span class="w">
  </span><span class="nl">"management_endpoint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ehr.example.com/user/manage"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"introspection_endpoint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ehr.example.com/user/introspect"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"revocation_endpoint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ehr.example.com/user/revoke"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code_challenge_methods_supported"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"S256"</span><span class="p">],</span><span class="w">
  </span><span class="nl">"capabilities"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"launch-ehr"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"permission-patient"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"permission-user"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"permission-v2"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"client-public"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"client-confidential-symmetric"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"context-ehr-patient"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sso-openid-connect"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>




</div>
        </div>    <!-- /inner-wrapper -->
      </div>    <!-- /row -->
    </div>    <!-- /container -->
  </div>    <!-- /segment-content -->

  <script src="assets/js/jquery.js" type="text/javascript"> </script>       <!-- note keep space here, otherwise it will be transformed to empty tag -> fails -->
  <script src="assets/js/jquery-ui.min.js" type="text/javascript"> </script>

  <script type="text/javascript">
    $(document).ready(function(){
      if(window.location.hash != "") {
          $('a[href="' + window.location.hash + '"]').click()
      }
    });
  </script>
  <a name="bottom"> </a>
  <div igtool="footer" id="segment-footer" class="segment">    <!-- segment-footer -->
    <div class="container">    <!-- container -->

      <div class="inner-wrapper">
        <p>
          IG &copy; 2020+ <a style="color:var(--footer-hyperlink-text-color)" href="mailto:ehaas@healthedatainc.com">Health eData Inc</a>.  Package uscdi4-sandbox#0.0.0 based on <a style="color: var(--footer-hyperlink-text-color)" href="http://hl7.org/fhir/R4/">FHIR 4.0.1</a>. Generated <span title="Thu, Mar 7, 2024 22:59+0000">2024-03-07</span>
          <br/>
          <span style="color: var(--footer-highlight-text-color)">
                      Links: <a style="color: var(--footer-hyperlink-text-color)" href="toc.html">Table of Contents</a> |
                 <a style="color: var(--footer-hyperlink-text-color)" href="qa.html">QA Report</a>
                 
                
          </span>
        </p>
      </div>    <!-- /inner-wrapper -->
    </div>    <!-- /container -->
  </div>    <!-- /segment-footer -->
  
  <div id="segment-post-footer" class="segment hidden">    <!-- segment-post-footer -->
    <div class="container">    <!-- container -->
    </div>    <!-- /container -->
  </div>    <!-- /segment-post-footer -->
  
    <!-- JS and analytics only. -->
    <!-- Bootstrap core JavaScript
  ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
  <script src="assets/js/bootstrap.min.js" type="text/javascript"> </script>
  <script src="assets/js/respond.min.js" type="text/javascript"> </script>
  <script src="assets/js/anchor.min.js" type="text/javascript"> </script>
  <script src="assets/js/clipboard.min.js" type="text/javascript"> </script>
  <script src="assets/js/clipboard-btn.js" type="text/javascript"> </script>
  <script>anchors.options.visible = 'hover'
anchors.add()</script>
  
  <!-- feedback form - Google forms -->
  <!-- v0.1, 2021-01-09 -->



  <!-- / feedback form -->

    <!-- Analytics Below
  ================================================== -->
  </body>
</html>